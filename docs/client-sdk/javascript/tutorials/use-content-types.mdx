---
sidebar_label: Use content types
sidebar_position: 4
---

# Use content types

All messages in XMTP are encoded with a **content type** to ensure interoperability and consistency of experience across the XMTP network.

To learn more about content types, see [Content types with XMTP](/docs/dev-concepts/content-types).

Two standard content types come bundled with the XMTP client SDK:

1. `xmtp.org/text:1.0`, which defines a **default** `TextCodec` for plain text content  

   To learn more about this text content type, see [XIP-5](https://github.com/xmtp/XIPs/blob/ae6fc638332f57f918d82a096f69b1e79df0bd0a/XIPs/xip-5-message-content-types.md#xmtporgtext).

2. `xtmp.org/composite:1.0`, which defines an **optional** `CompositeCodec` for multiple content types in a single message  

   To learn more about this composite content type, see [XIP-9](https://github.com/xmtp/XIPs/blob/ae6fc638332f57f918d82a096f69b1e79df0bd0a/XIPs/xip-9-composite-content-type.md).

:::important

For standard content types, `xmtp.org` is the `authorityId`. Only standard content types adopted through the XIP process can use `xmtp.org` as their `authorityId`. A custom content type that you create for your app must not use `xmtp.org` as an `authorityId`. Instead, consider using a unique DNS domain or ENS name (e.g. uniswap.eth). To learn more about `authorityId` and other parameters in a content type identifier, see [Content Type Identifier and Parameters](https://github.com/xmtp/XIPs/blob/ae6fc638332f57f918d82a096f69b1e79df0bd0a/XIPs/xip-5-message-content-types.md#content-type-identifier-and-parameters).

:::

## Send plain text messages using the TextCodec standard content type

An app built with XMTP uses the `TextCodec` (plain text) standard content type by default. This means that if your app is sending plain text messages only, you donâ€™t need to perform any additional steps related to content types.

## Send multiple content types in a message using the CompositeCodec standard content type

If you want your app to be able to send multiple content types; such as any combination of plain text, images, audio, and video; in a single message, you must set up your app to use the `CompositeCodec` standard content type.

:::important

While XMTP supports the `CompositeCodec` standard content type, you must ensure that the app reading the composite message supports the content types used in the composite.

:::

### Import the `CompositeCodec` standard content type

Import the `CompositeCodec` content type from the `xmtp-js` client SDK to make it available in your app. For example:

```javascript
import { CompositeCodec } from '@xmtp/xmtp-js'
```

### Tag a message with the `CompositeCodec` standard content type

To enable a message API client to know to use the `CompositeCodec` content type to encode and decode a message, tag the message with the content type.

To do this, pass the `CompositeCodec` content type as an option to the `Client.create()` method. This configures the message API client instance to use `CompositeCodec` when encoding and decoding messages. For example:

```javascript
const xmtp = Client.create(wallet, { codecs: [new CompositeCodec()] })
```

## Send a custom content type

You can use `xmtp-js` to specify and send a custom content type beyond the standard `TextCodec` and `CompositeCodec` content types.

**To send a custom content type:**

1. Specify a custom content type to enable during client initialization.

    ```typescript
    // Adding support for a fictional `frenz.xyz/number` content type
    import { NumberCodec } from '@xmtp/xmtp-js'
    const xmtp = Client.create(wallet, { codecs: [new NumberCodec()] })
    ```

    This example enables a fictional "number" custom content type in the form of `NumberCodec`.

    The predefined `TextCodec` content type supports numbers in a text string, such as `"Pi is the number 3.14."` However, `TextCodec` doesn't support a number outside a text string, such as `3.14`. To handle this number, you can specify this "number" custom content type.

    This snippet registers the `NumberCodec` custom content type with the sending client. During the registration process, the sending client automatically associates the codec with the content type it says it supports. For example, `NumberCodec` might say that it supports the `ContentTypeNumber` content type.

2. Send a message using the specified custom content type and fall-back plaintext.

    ```typescript
    // Assuming NumberCodec can be used to encode numbers and is
    // identified with ContentTypeNumber, you can use it as follows.
    conversation.send(3.14, {
      contentType: ContentTypeNumber,
      contentFallback: '3.14'
    })
    ```

    This example sends a message using the fictional "number" custom content type, including fall-back plaintext.

    The receiving client uses the `contentType` value of `ContentTypeNumber` to identify the content type of the `3.14` message sent through the `send` API. If the receiving client supports the content type, it displays the message. If it doesn't support the content type, it displays the fall-back plaintext.

    To learn more about the `send` API, see [Sending messages](quickstart#sending-messages).
    <!--reference docs are now missing the pre-existing sendMessage topic: https://xmtp.org/docs/client-sdk/javascript/reference/classes/Client#sendmessage. We have an open eng issue to fix this. In the meantime,linking here.-->

To learn more about sending custom content types, see [Different content types](https://github.com/xmtp/xmtp-js/blob/4157fadd80bce80c8094135f3e47d3856515468f/README.md#different-types-of-content).
